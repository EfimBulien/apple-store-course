@{
    ViewData["Title"] = "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö";
}

<div class="container py-5">
    <h2 class="fw-bold mb-4"><i class="bi bi-download me-2"></i>–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h2>

    <div class="card mb-4 shadow-sm border-0 rounded-4">
        <div class="card-body">
            <h5 class="fw-semibold mb-3">–≠–∫—Å–ø–æ—Ä—Ç –∞—É–¥–∏—Ç–∞</h5>
            <form asp-action="ExportAudit" asp-controller="Export" method="get" class="row gy-2 gx-3 align-items-center">
                <div class="col-auto">
                    <label class="form-label mb-0">–°:</label>
                    <input type="datetime-local" name="from" class="form-control" required />
                </div>
                <div class="col-auto">
                    <label class="form-label mb-0">–ü–æ:</label>
                    <input type="datetime-local" name="to" class="form-control" required />
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-filetype-json me-1"></i> –°–∫–∞—á–∞—Ç—å JSON
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <h2>–≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h2>

    <div class="row g-3 mt-3">
        <div class="col-md-6">
            <a class="btn btn-outline-primary w-100" asp-action="ExportProductsCsv">
                üì§ –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ –≤ CSV
            </a>
        </div>
        <div class="col-md-6">
            <a class="btn btn-outline-primary w-100" asp-action="ExportOrdersCsv">
                üì§ –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–æ–≤ –≤ CSV
            </a>
        </div>
        <div class="col-md-6">
            <a class="btn btn-outline-primary w-100" asp-action="ExportInventoryCsv">
                üì§ –≠–∫—Å–ø–æ—Ä—Ç —Å–∫–ª–∞–¥–∞ –≤ CSV
            </a>
        </div>
        <div class="col-md-6">
            <a class="btn btn-outline-secondary w-100" asp-action="ImportProducts">
                üì• –ò–º–ø–æ—Ä—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤
            </a>
        </div>
        <div class="col-md-6">
            <a asp-controller="Export" asp-action="BackupHistory" class="btn btn-danger w-100">
                üíæ –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            </a>
        </div>
    </div>

    @if (TempData["Message"] != null)
    {
        <div class="alert alert-success mt-3">@TempData["Message"]</div>
    }

    <div class="card shadow-sm border-0 rounded-4">
        <div class="card-body">
            <h5 class="fw-semibold mb-3">–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î</h5>
            <form asp-action="RequestBackup" asp-controller="Export" method="post">
                @Html.AntiForgeryToken()
                <div class="mb-3">
                    <label class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</label>
                    <input type="text" name="note" class="form-control" />
                </div>
                <button type="submit" class="btn btn-success">
                    <i class="bi bi-hdd-network me-1"></i> –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
                </button>
            </form>

            @if (TempData["Success"] != null)
            {
                <div class="card mt-4 shadow-sm border-success border-1 rounded-4">
                    <div class="card-body text-success">
                        <i class="bi bi-check-circle-fill me-2"></i>
                        @TempData["Success"]
                    </div>
                </div>
            }
        </div>
    </div>
</div>